<form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6 mt-5">
  <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
    <app-input-component
      label="Titolo"
      placeholder="Inserisci il titolo dell'evento"
      formControlName="title"
      [required]="true"
    ></app-input-component>

    <app-input-component
      label="Data e ora"
      type="datetime-local"
      formControlName="dateTime"
      [required]="true"
    ></app-input-component>

    <app-select-component
      label="Categoria"
      placeholder="Seleziona una categoria"
      formControlName="category"
      [required]="true"
      [options]="categoriesOptions()"
    ></app-select-component>

    <app-input-component
      label="Luogo"
      placeholder="Inserisci il luogo dell'evento"
      formControlName="location"
      [required]="true"
    ></app-input-component>

    <app-input-component
      label="Numero massimo di partecipanti"
      type="number"
      placeholder="Inserisci il numero massimo di partecipanti"
      formControlName="maxParticipants"
      [required]="true"
      [min]="1"
    ></app-input-component>

    <app-textarea-component
      class="md:col-span-2"
      label="Descrizione"
      placeholder="Inserisci una descrizione per l'evento"
      formControlName="description"
      [rows]="4"
    ></app-textarea-component>
  </div>

  <div class="flex justify-end space-x-4">
    <app-button type="button" variant="secondary" (click)="onClose.emit()">Annulla</app-button>
    @if(isEditMode()){
    <app-button type="button" [variant]="'error'" (click)="onDeleteEvent()">Elimina</app-button>
    }
    <app-button type="submit" [disabled]="form.invalid">Salva</app-button>
  </div>
</form>

<app-modal [open]="openConfirmDeleteModal()">
  <div class="flex flex-col gap-4">
    <h2 class="modal-title">Conferma eliminazione</h2>
    <p>Sei sicuro di voler eliminare questo evento? Questa azione Ã¨ irreversibile.</p>
    <div class="modal-actions flex gap-2 justify-end">
      <app-button [variant]="'accent'" (click)="openConfirmDeleteModal.set(false)">
        Annulla
      </app-button>
      <app-button [variant]="'error'" (click)="onConfirmDelete()"> Elimina </app-button>
    </div>
  </div>
</app-modal>
