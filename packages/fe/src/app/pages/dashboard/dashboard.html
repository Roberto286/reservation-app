<app-events-menu
  [categories]="categories()"
  (categorySelected)="onCategorySelected($event)"
></app-events-menu>
<div class="flex justify-between mt-10">
  <h2 class="text-2xl font-bold">Eventi</h2>
  @if(isAdmin){<app-button (click)="onNewEvent()">Nuovo Evento</app-button>}
</div>
@if(events().length) {
<div
  class="grid gap-6 my-6"
  [ngClass]="{
    'grid-cols-1': events().length === 1,
    'grid-cols-1 sm:grid-cols-2 lg:grid-cols-2': events().length === 2,
    'grid-cols-1 sm:grid-cols-2 lg:grid-cols-4': events().length >= 3
  }"
>
  @for (event of events(); track event.id) {
  <app-event-card
    [eventData]="event"
    (eventBooked)="onEventBooked()"
    (isEditing)="onEditEvent($event)"
  ></app-event-card>
  }
</div>
}
<app-modal [open]="showModal()" [size]="'xl'" (closed)="showModal.set(false)">
  <div modal-header class="font-bold text-lg">
    @if(isEditing()) { Modifica Evento } @else { Crea Nuovo Evento }
  </div>
  <app-event-form
    [eventData]="eventData()"
    [categories]="categories()"
    (onClose)="showModal.set(false)"
    (formSubmitted)="onNewEventCreated()"
  ></app-event-form>
</app-modal>
